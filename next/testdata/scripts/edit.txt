mkhomedir
mksourcedir

chezmoi edit $HOME${/}.bashrc
grep -count=1 '# edited' $CHEZMOISOURCEDIR/dot_bashrc
! grep '# edited' $HOME/.bashrc

[short] stop

chezmoi edit --apply $HOME${/}.bashrc
grep -count=2 '# edited' $CHEZMOISOURCEDIR/dot_bashrc
grep -count=2 '# edited' $HOME/.bashrc

chezmoi edit $HOME${/}.symlink
grep -count=1 '# edited' $CHEZMOISOURCEDIR/symlink_dot_symlink

chezmoi edit -v $HOME${/}script
grep -count=1 '# edited' $CHEZMOISOURCEDIR/run_script

chezmoi edit $HOME${/}.bashrc $HOME${/}.symlink
grep -count=3 '# edited' $CHEZMOISOURCEDIR/dot_bashrc
grep -count=2 '# edited' $CHEZMOISOURCEDIR/symlink_dot_symlink

[windows] stop 'remaining tests need update to editor.cmd' # FIXME
chezmoi edit
exists $CHEZMOISOURCEDIR/.edited

[windows] stop 'remaining tests use file modes'
chezmoi edit $HOME${/}.ssh
exists $CHEZMOISOURCEDIR/private_dot_ssh/.edited

# FIXME --apply tests

-- home/user/.local/share/chezmoi/run_script --
#!/bin/sh
